/*!CK:4203874505!*//*1428298165,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["yoGEI"]); }

__d("MeasuredComponent.react",["EventListener","React","SubscriptionsHandler","emptyFunction","onlyChild","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"MeasuredComponent",propTypes:{onMeasure:n.func.isRequired,measureOnEvents:n.array,shouldRemeasure:n.func},getDefaultProps:function(){return {onMeasure:j,measureOnEvents:['resize','orientationchange'],shouldRemeasure:j.thatReturnsFalse};},componentWillReceiveProps:function(p){if(p.measureOnEvents!==this.props.measureOnEvents){this.detachEventListeners();this.attachEventListeners(p.measureOnEvents);}},attachEventListeners:function(p){this._subscriptionsHandler.engage();i.prototype.addSubscriptions.apply(this._subscriptionsHandler,p.map(function(q){return g.listen(a,q,this.measure);}.bind(this)));},detachEventListeners:function(){this._subscriptionsHandler.release();},measure:function(){var p=h.findDOMNode(this).getBoundingClientRect();this.props.onMeasure(p);},componentDidUpdate:function(p,q){if(this.props.shouldRemeasure(p.children,this.props.children))this.measure();},componentDidMount:function(){this._subscriptionsHandler=new i();this.attachEventListeners(this.props.measureOnEvents);l(this.measure);},componentWillUnmount:function(){this.detachEventListeners();this._subscriptionsHandler=null;},render:function(){return k(this.props.children);}});e.exports=o;},null);
__d("AbstractVideoFullscreenControl.react",["AbstractButton.react","React","ReactComponentWithPureRenderMixin"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();'use strict';var j=h,k=j.PropTypes,l=h.createClass({displayName:"AbstractVideoFullscreenControl",mixins:[i],propTypes:{image:k.element,isFullscreen:k.bool,onToggleFullscreen:k.func},getInitialState:function(){return {awaitingUpdate:false};},isFullscreen:function(){if(this.state.awaitingUpdate)return this.state.isFullscreenOverride;return this.props.isFullscreen;},onButtonClick:function(){this.props.onToggleFullscreen&&this.props.onToggleFullscreen();},render:function(){return (h.createElement(g,h.__spread({},this.props,{className:this.props.className,image:this.props.image,onClick:this.onButtonClick})));}});e.exports=l;},null);
__d("VideoClosedCaptionsControl.react",["AbstractButton.react","Image.react","React","ReactComponentWithPureRenderMixin","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=i,n=m.PropTypes,o=i.createClass({displayName:"ClosedCaptionsControl",mixins:[j],propTypes:{areClosedCaptionsActive:n.bool,onToggleClosedCaptions:n.func},render:function(){var p=((!this.props.areClosedCaptionsActive?"_2bs_":'')),q=i.createElement(h,{className:p,src:l('images/video/player/controls/hq_icons/captions.png')});return (i.createElement(g,i.__spread({type:"button"},this.props,{className:"_zbd",onClick:this.props.onToggleClosedCaptions,image:q})));}});e.exports=o;},null);
__d("VideoPlaybackControl.react",["React","AbstractButton.react","Image.react","ReactComponentWithPureRenderMixin","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=g,n=m.PropTypes,o=g.createClass({displayName:"PlaybackControl",mixins:[j],propTypes:{isPlaying:n.bool,onPlay:n.func,onPause:n.func},getInitialState:function(){return {awaitingUpdate:false};},isPlaying:function(){if(this.state.awaitingUpdate)return this.state.isPlayingOverwrite;return this.props.isPlaying;},onButtonClick:function(){var p=this.isPlaying();this.setState({awaitingUpdate:true,isPlayingOverwrite:!p});if(p){this.props.onPause&&this.props.onPause();}else this.props.onPlay&&this.props.onPlay();},componentWillReceiveProps:function(){this.setState({awaitingUpdate:false});},render:function(){var p=this.isPlaying()?l('images/video/player/controls/hq_icons/pause.png'):l('images/video/player/controls/hq_icons/play.png'),q=g.createElement(i,{src:p,className:"_zbc"}),r=(("_zbd")+(' '+"_1fmx"));return g.createElement(h,{type:"button",image:q,className:r,onClick:this.onButtonClick});}});e.exports=o;},null);
__d("VideoFullscreenControl.react",["AbstractVideoFullscreenControl.react","Image.react","React","ReactComponentWithPureRenderMixin","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=i,n=m.PropTypes,o=i.createClass({displayName:"VideoFullscreenControl",mixins:[j],propTypes:{isFullscreen:n.bool,onToggleFullscreen:n.func},render:function(){var p=i.createElement(h,{src:l('images/video/player/controls/hq_icons/fullscreen.png')});return (i.createElement(g,i.__spread({type:"button"},this.props,{className:"_zbd",image:p})));}});e.exports=o;},null);
__d("VideoVolumeSlider.react",["EventListener","React","ReactComponentWithPureRenderMixin","cx","getElementPosition","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();var m=h,n=m.PropTypes,o=h.createClass({displayName:"VideoVolumeSlider",mixins:[i],propTypes:{volume:n.number,onVolumeChange:n.func},getInitialState:function(){return {engaged:false};},componentWillReceiveProps:function(p){this.setState({awaitingUpdate:false});},componentDidUpdate:function(p,q){if(!this.state.engaged&&q.engaged){this._mouseUpListener.remove();this._mouseMoveListener.remove();}else if(this.state.engaged&&!q.engaged){this._mouseMoveListener=g.listen(document,'mousemove',l(this.onMouseMove,50,this));this._mouseUpListener=g.listen(document,'mouseup',this.onMouseUp);}},onMouseDown:function(p){if(p.button!==0)return;this.setState({engaged:true,volume:this.getClampedClickPositionVolume(p.clientY)});p.preventDefault();p.stopPropagation();},getClampedClickPositionVolume:function(p){var q=k(h.findDOMNode(this.refs.slider)),r=k(h.findDOMNode(this.refs.nub)).height,s=q.y-p+q.height+r/2;return Math.max(0,Math.min(1,s/q.height));},onMouseUp:function(p){this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);this.setState({engaged:false,awaitingUpdate:true});p.preventDefault();p.stopPropagation();},onMouseMove:function(p){this.setState({volume:this.getClampedClickPositionVolume(p.clientY)});this.props.onVolumeChange&&this.props.onVolumeChange(this.state.volume);p.preventDefault();p.stopPropagation();},getVolume:function(){if(this.state.engaged||this.state.awaitingUpdate)return this.state.volume;return this.props.volume;},render:function(){var p={height:Math.round(this.getVolume()*100)+'%'},q=(("_3pao")+(this.state.engaged?' '+"_2yu6":''));return h.createElement("div",{onMouseDown:this.onMouseDown,className:q},h.createElement("div",{ref:"slider",className:"_3paq"},h.createElement("div",{style:p,className:"_3par"},h.createElement("div",{ref:"nub",className:"_3pas"}))),h.createElement("div",{className:"_3pat"}));}});e.exports=o;},null);
__d("VideoVolumeControl.react",["AbstractButton.react","Image.react","React","ReactComponentWithPureRenderMixin","VideoVolumeSlider.react","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l,m){b.__markCompiled&&b.__markCompiled();var n=i,o=n.PropTypes,p=i.createClass({displayName:"VideoVolumeControl",mixins:[j],propTypes:{volume:o.number,isMuted:o.bool,onVolumeChange:o.func,onToggleMuted:o.func},getInitialState:function(){return {awaitingMuteUpdate:false,awaitingVolumeUpdate:false};},onButtonClick:function(){this.props.onToggleMuted&&this.props.onToggleMuted();},getVolume:function(){if(this.props.isMuted)return 0;return this.props.volume;},onSliderVolumeChange:function(q){if(q>0&&this.props.isMuted)this.props.onToggleMuted&&this.props.onToggleMuted();this.props.onVolumeChange&&this.props.onVolumeChange(q);},render:function(){var q=!this.getVolume()?m('images/video/player/controls/hq_icons/muted.png'):m('images/video/player/controls/hq_icons/volume.png'),r=i.createElement(h,{src:q});return i.createElement("div",{className:"_2swo"},i.createElement(k,{onVolumeChange:this.onSliderVolumeChange,volume:this.getVolume()}),i.createElement(g,{type:"button",className:"_zbd",image:r,onClick:this.onButtonClick}));}});e.exports=p;},null);
__d("VideoPlaybackTimer.react",["React","ReactComponentWithPureRenderMixin","cx"],function(a,b,c,d,e,f,g,h,i){b.__markCompiled&&b.__markCompiled();var j=g,k=j.PropTypes,l=g.createClass({displayName:"PlaybackTimer",mixins:[h],propTypes:{playbackPosition:k.number,playbackDuration:k.number},getClock:function(m){var n=Math.floor(m/3600),o=m-n*3600,p=Math.floor(o/60),q=Math.floor(o-p*60),r=('0'+p).slice(-2),s=('0'+q).slice(-2);if(n===0){return (g.createElement("span",{className:"_5qsq"},p,":",s));}else return (g.createElement("span",{className:"_5qsq"},n,":",r,":",s));},getPosition:function(){return this.getClock(this.props.playbackPosition);},getDuration:function(){return this.getClock(this.props.playbackDuration);},render:function(){return (g.createElement("div",{className:"_5qsr"},this.getPosition(),"/",this.getDuration()));}});e.exports=l;},null);
__d("VideoScrubber.react",["EventListener","React","ReactComponentWithPureRenderMixin","getElementPosition","cx"],function(a,b,c,d,e,f,g,h,i,j,k){b.__markCompiled&&b.__markCompiled();var l=h,m=l.PropTypes,n=h.createClass({displayName:"VideoScrubber",mixins:[i],propTypes:{playbackPosition:m.number,playbackDuration:m.number,bufferedPosition:m.number,onScrubBegin:m.func,onScrubEnd:m.func},getInitialState:function(){return {nubEngaged:false};},onDragNubBegin:function(o){if(o.button!==0)return;var p=j(h.findDOMNode(this.refs.bar));this.setState({nubEngaged:true,scrubRatio:this.getClampedClickPositionProgress(o.clientX,p),barCoords:p});this.props.onScrubBegin&&this.props.onScrubBegin();o.stopPropagation();o.preventDefault();},componentWillReceiveProps:function(o){if(this.props.playbackPosition!==o.playbackPosition)this.setState({awaitingUpdate:false});},componentDidUpdate:function(o,p){if(!p.nubEngaged&&this.state.nubEngaged){this._mouseMoveListener=g.listen(document,'mousemove',this.onDragNubUpdate);this._mouseUpListener=g.listen(document,'mouseup',this.onDragNubRelease);}else if(p.nubEngaged&&!this.state.nubEngaged){this._mouseMoveListener.remove();this._mouseUpListener.remove();}},getClampedClickPositionProgress:function(o,p){var q=o-p.x,r=q/p.width;return Math.min(Math.max(0,r),1);},onDragNubUpdate:function(o){this.setState({scrubRatio:this.getClampedClickPositionProgress(o.clientX,this.state.barCoords)});o.preventDefault();o.stopPropagation();},onDragNubRelease:function(o){var p={nubEngaged:false};if(this.props.onScrubEnd){this.props.onScrubEnd(this.state.scrubRatio*this.props.playbackDuration);Object.assign(p,{awaitingUpdate:true});}this.setState(p);o.preventDefault();o.stopPropagation();},getPlayedRatio:function(){if(this.state.nubEngaged||this.state.awaitingUpdate)return this.state.scrubRatio;return this.props.playbackPosition/this.props.playbackDuration;},getBufferedRatio:function(){return this.props.bufferedPosition/this.props.playbackDuration;},render:function(){var o=(("_2yu5")+(this.state.nubEngaged?' '+"_2yu6":'')),p={width:(this.getPlayedRatio()*100)+'%'},q={width:(this.getBufferedRatio()*100)+'%'};return (h.createElement("div",{onMouseDown:this.onDragNubBegin,className:o},h.createElement("div",{className:"_2yu7",ref:"bar"},h.createElement("div",{style:q,className:"_2yu8"}),h.createElement("div",{className:"_2yu9",style:p},h.createElement("div",{className:"_2yua"})))));}});e.exports=n;},null);
__d("VideoQualityControl.react",["AbstractButton.react","Image.react","React","ReactComponentWithPureRenderMixin","cx","ix"],function(a,b,c,d,e,f,g,h,i,j,k,l){b.__markCompiled&&b.__markCompiled();'use strict';var m=i,n=m.PropTypes,o=i.createClass({displayName:"QualityControl",mixins:[j],propTypes:{isHD:n.bool,onToggleHD:n.func},render:function(){var p=((!this.props.isHD?"_2bs_":'')),q=(i.createElement(h,{className:p,src:l('images/video/player/controls/hq_icons/hd.png')}));return (i.createElement(g,{type:"button",className:"_zbd",image:q,onClick:this.props.onToggleHD}));}});e.exports=o;},null);
__d("VideoControls.react",["React","VideoPlaybackControl.react","VideoFullscreenControl.react","VideoClosedCaptionsControl.react","VideoVolumeControl.react","VideoPlaybackTimer.react","VideoScrubber.react","MeasuredComponent.react","ReactComponentWithPureRenderMixin","VideoQualityControl.react","cx"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=g,s=r.PropTypes,t=g.createClass({displayName:"VideoControls",mixins:[o],propTypes:{isPlaying:s.bool,hidden:s.bool,isFullscreen:s.bool,isMuted:s.bool,volume:s.number,playbackPosition:s.number,playbackDuration:s.number,onToggleFullscreen:s.func,onToggleMuted:s.func,onVolumeChange:s.func,onToggleSubtitles:s.func,hasSubtitles:s.bool,areSubtitlesActive:s.bool,onSeek:s.func,onPause:s.func,onPlay:s.func,hasHD:s.bool,isHD:s.bool,onToggleHD:s.func},getInitialState:function(){return {minimal:false};},isHidden:function(){return this.props.hidden;},onMeasureCenterGroup:function(u){if(u.width!==0){var v=u.width<t.minimumProgressBarWidth;this.setState({minimal:v});}},componentDidUpdate:function(u,v){if(this.props.isFullscreen!==u.isFullscreen)this.refs.measuredComponent.measure();if(this.props.isHidden!==u.isHidden&&!this.props.isHidden)this.refs.measuredComponent.measure();},render:function(){var u=(("_1c7d")+(this.isHidden()?' '+"_1c7e":'')),v="_1c7f _1c7g",w="_1c7f _1c7h",x="_1c7f _2pvx",y=null;if(!this.state.minimal)y=(g.createElement(l,{playbackPosition:this.props.playbackPosition,playbackDuration:this.props.playbackDuration}));var z=null;if(this.props.hasHD)z=(g.createElement(p,{isHD:this.props.isHD,onToggleHD:this.props.onToggleHD}));var aa=null;if(this.props.hasSubtitles)aa=(g.createElement(j,{areClosedCaptionsActive:this.props.areSubtitlesActive,onToggleClosedCaptions:this.props.onToggleSubtitles}));return (g.createElement("div",{className:u},g.createElement("div",{className:v},g.createElement(h,{onPlay:this.props.onPlay,onPause:this.props.onPause,isPlaying:this.props.isPlaying})),g.createElement(n,{onMeasure:this.onMeasureCenterGroup,ref:"measuredComponent"},g.createElement("div",{className:x},g.createElement(m,{playbackPosition:this.props.playbackPosition,playbackDuration:this.props.playbackDuration,onScrubEnd:this.props.onScrubEnd,onScrubBegin:this.props.onScrubBegin,bufferedPosition:this.props.bufferedPosition}))),g.createElement("div",{className:w},y,g.createElement(k,{isMuted:this.props.isMuted,volume:this.props.volume,onVolumeChange:this.props.onVolumeChange,onToggleMuted:this.props.onToggleMuted}),aa,z,g.createElement(i,{onToggleFullscreen:this.props.onToggleFullscreen,isFullscreen:this.props.isFullscreen}))));}});t.minimumProgressBarWidth=180;e.exports=t;},null);
__d("VideoControls",["Event","EventListener","Keys","React","VideoControls.react","VideoPlayerReason","cancelAnimationFrame","logVideosClickTracking","throttle","requestAnimationFrame"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p){b.__markCompiled&&b.__markCompiled();function q(r,s,t){"use strict";this.$VideoControls0=r;this.$VideoControls1=s;this.$VideoControls2=t.hidePaused;this.$VideoControls3=0;this.$VideoControls4=0;var u=this.$VideoControls0.getRootNode();h.listen(u,'mousemove',o(this.onMouseMove.bind(this),200));if(!u.getAttribute('tabindex'))u.setAttribute('tabindex','0');h.listen(u,'keydown',function(w){if(g.getKeyCode(w)===i.SPACE){if(this.$VideoControls0.isState('playing')){this.pause();}else this.play();g.kill(w);}}.bind(this));h.listen(u,'mouseleave',function(){this.$VideoControls5=false;this.scheduleRenderReactComponent();}.bind(this));h.listen(u,'mouseenter',function(){this.$VideoControls5=true;this.scheduleRenderReactComponent();}.bind(this));this.scheduleRenderReactComponent();var v=['stateChange','unmuteVideo','muteVideo','toggleFullscreen','changeVolume','updateMetadata','qualityChange'];v.forEach(function(event){return this.$VideoControls0.addListener(event,this.scheduleRenderReactComponent.bind(this));}.bind(this));this.$VideoControls0.addListener('beginPlayback',function(){return this.onMouseMove();}.bind(this));this.$VideoControls0.addListener('updateStatus',function(w){var x=w.position;this.$VideoControls4=x;this.scheduleRenderReactComponent();}.bind(this));this.$VideoControls0.addListener('updateBuffer',function(w){var x=w.duration,y=w.offset;this.$VideoControls3=x+y;this.scheduleRenderReactComponent();}.bind(this));}q.prototype.onMouseMove=function(){"use strict";if(!this.$VideoControls6){this.$VideoControls6=true;this.scheduleRenderReactComponent();}clearTimeout(this.$VideoControls7);this.$VideoControls7=setTimeout(function(){this.$VideoControls6=false;this.scheduleRenderReactComponent();}.bind(this),3000);};q.prototype.areControlsVisible=function(){"use strict";if(this.$VideoControls0.isState('playing')){return this.$VideoControls5&&this.$VideoControls6;}else return this.$VideoControls0.isFullscreen()||!this.$VideoControls2;};q.prototype.scheduleRenderReactComponent=function(event){"use strict";if(this.$VideoControls0.isState('loading')||this.$VideoControls0.isState('fallback'))return;m(this.$VideoControls8);this.$VideoControls8=p(this.renderReactComponent.bind(this));};q.prototype.renderReactComponent=function(){"use strict";j.render(j.createElement(k,{hidden:!this.areControlsVisible(),isPlaying:this.$VideoControls0.isState('playing'),isMuted:this.$VideoControls0.isMuted(),volume:this.$VideoControls0.getVolume(),isFullscreen:this.$VideoControls0.isFullscreen(),hasSubtitles:this.$VideoControls0.hasSubtitles(),areSubtitlesActive:this.$VideoControls0.areSubtitlesActive(),onToggleSubtitles:this.toggleSubtitles.bind(this),onToggleMuted:this.toggleMuted.bind(this),onVolumeChange:this.changeVolume.bind(this),onToggleFullscreen:this.toggleFullscreen.bind(this),onPlay:this.play.bind(this),onPause:this.pause.bind(this),playbackPosition:this.$VideoControls4,playbackDuration:this.$VideoControls0.getPlaybackDuration(),bufferedPosition:this.$VideoControls3,onScrubBegin:this.scrubBegin.bind(this),onScrubEnd:this.scrubEnd.bind(this),onToggleHD:this.toggleHD.bind(this),isHD:this.$VideoControls0.isHD(),hasHD:this.$VideoControls0.hasHD()}),this.$VideoControls1);};q.prototype.toggleHD=function(){"use strict";this.$VideoControls0.toggleHD();};q.prototype.scrubBegin=function(){"use strict";this.$VideoControls0.pause(l.SEEK);};q.prototype.scrubEnd=function(r){"use strict";this.$VideoControls0.seek(r);this.$VideoControls0.play(l.SEEK);};q.prototype.toggleMuted=function(){"use strict";if(this.$VideoControls0.isMuted()){n(this.$VideoControls0.getVideoNode());this.$VideoControls0.unmute();}else this.$VideoControls0.mute();};q.prototype.toggleFullscreen=function(){"use strict";if(!this.$VideoControls0.isFullscreen())n(this.$VideoControls0.getVideoNode());this.$VideoControls0.toggleFullscreen();};q.prototype.toggleSubtitles=function(){"use strict";this.$VideoControls0.toggleSubtitles();this.scheduleRenderReactComponent();};q.prototype.changeVolume=function(r){"use strict";this.$VideoControls0.setVolume(r);};q.prototype.play=function(){"use strict";n(this.$VideoControls0.getVideoNode());this.$VideoControls0.play(l.USER);};q.prototype.pause=function(){"use strict";this.$VideoControls0.pause(l.USER);};e.exports=q;},null);