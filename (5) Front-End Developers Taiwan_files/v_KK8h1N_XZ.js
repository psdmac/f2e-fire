/*!CK:248663998!*//*1425967120,*/

if (self.CavalryLogger) { CavalryLogger.start_js(["lP0Tj"]); }

__d("EditHistory",["Arbiter","CSS","DOM","DOMDimensions","Event","Style","SubscriptionsHandler","Vector","csx","cx","throttle"],function(a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q){b.__markCompiled&&b.__markCompiled();var r=450,s=100,t=67,u=67;function v(x){"use strict";this.$EditHistoryDialogResize0=x;}v.prototype.enable=function(){"use strict";var x=this.$EditHistoryDialogResize0.getRoot();this.$EditHistoryDialogResize1=new m();this.$EditHistoryDialogResize1.addSubscriptions(this.$EditHistoryDialogResize0.subscribe('show',this.$EditHistoryDialogResize2.bind(this)),k.listen(window,'resize',q(this.$EditHistoryDialogResize2.bind(this))),g.subscribe('EditHistory/resize',this.$EditHistoryDialogResize2.bind(this)));this.$EditHistoryDialogResize3=i.find(x,"._4-i2");h.addClass(this.$EditHistoryDialogResize3,"_5pfh");this.$EditHistoryDialogResize4=s;if(i.scry(x,"._4-i0").length)this.$EditHistoryDialogResize4+=t;if(i.scry(x,"._5a8u").length)this.$EditHistoryDialogResize4+=u;this.$EditHistoryDialogResize5=this.$EditHistoryDialogResize3.firstChild;h.addClass(this.$EditHistoryDialogResize5,"_4wxg");};v.prototype.disable=function(){"use strict";this.$EditHistoryDialogResize1.release();this.$EditHistoryDialogResize1=null;h.removeClass(this.$EditHistoryDialogResize3,"_5pfh");h.removeClass(this.$EditHistoryDialogResize5,"_4wxg");};v.prototype.$EditHistoryDialogResize2=function(){"use strict";var x=n.getViewportDimensions().y,y=x-this.$EditHistoryDialogResize4;y=Math.max(r,y);var z=j.getElementDimensions(this.$EditHistoryDialogResize5).height;l.set(this.$EditHistoryDialogResize3,'height',Math.min(z,y)+'px');this.$EditHistoryDialogResize0.updatePosition();};var w={prepareDialog:function(x){x.enableBehavior(v);}};e.exports=w;},null);
__d("PostEditCollapsedHistory",["Arbiter","Event","CSS","cx"],function(a,b,c,d,e,f,g,h,i,j){b.__markCompiled&&b.__markCompiled();var k={listen:function(l){if(l)h.listen(l,'click',function(){i.addClass(l,"_3d5");g.inform('EditHistory/resize');});}};e.exports=k;},null);